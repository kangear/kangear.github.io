---
layout: post
title:  "小米IoT的STM32例子如何运行？"
date:   2024-08-17 18:00:00 +0800
categories: IoT
typora-copy-images-to: ../assets
typora-root-url: ../
---

自动生成的代码是STM32F103RC+ULINK，而手中的板子是STM32F103C8+STLINK，需要如何改动才可以正常编译、烧录、运行。

| ![有帮助的截图](/assets/e83bec473252e5eab21bb42a682ec03.png) |
| :----------------------------------------: |
|          *由103RC改为103C8*          |

| ![有帮助的截图](/assets/e09a0ee473ca7145a6e1d4890c33a1d.png) |
| :----------------------------------------: |
|          *宏变量由HD改为MD*          |

| ![有帮助的截图](/assets/2a312058d7b35ba8687288974a8f9c6.png) |
| :----------------------------------------: |
|          *调试器由ULINK改为ST-Link*          |


| ![有帮助的截图](/assets/921d823c45d6a3d239ba14fc7a2440e.png) |
| :----------------------------------------: |
|          *编译结果*          |

# 硬件连接

UART1 调试 （115200）

UART2 通信串口

这样就可以运行起来，使用米家App可以发现设备并配网。

# 小结

两个月前就知道可以生产STM32代码，但是因为编译了一下不通过就丢下没有继续，今天决定咬牙来看，终于可以跑起来了，省下一个RC的开发板的费用。我之前奉行一个原则，也就是说“他多大鞋，我多大脚”，需要改进为2.0，如果能力足够，鞋可以微改别让脚那么难受。

另外一个需要吐槽的是，米家居然没有自动模板插件，其实很多开发者只需要开发下位机即可，App插件可以通用，这一点没有涂鸦平台做得好。