---
layout: post
title:  "STM32 ADC居然会输出1.5V电压？"
date:   2024-09-03 05:30:00 +0800
categories: cloud
typora-copy-images-to: ../assets
typora-root-url: ../
---

在硬啃电源电路时，有一个异常是作为ADC1的管脚PA0居然会输出电压？按照我的理解它不应该是测试电压，怎么还会输出？这不成了监守自盗。我一度怀疑管脚配错了，因为刚好处理了一个类似问题，把数字输入脚配置成FLOAT怎么拉不高电压，一直是1.xV左右。

结果看了一圈也没有问题，我开始网上搜索，最后搜索出来一个术语叫作`ADC空载电压`，网友们遇到的是悬空时ADC测试到的电压，我用万用表实际测试有这么个电压。虽然网友的文档都着重描述悬空，我开始思考到一个细节。

因为此时我使用`Blue Pill`是可以接0V测出0V、测试3.3V测试出3.3V；我开始想我估计和网友问题一样，虽然我是接了电阻，但是电阻太大和没接一样，我的电阻是1M。改为20K就可以测试出低于1V的情况了，甚至可以0.002V。

硬件工程师怎么会这样搞，居然使用这么大的电阻，我还以为有什么依据。如果用20K电阻，会消耗掉150uA电流。


| ![有帮助的截图](/assets/微信截图_20240903054006.png) |
| :----------------------------------------: |
|          *电阻太大*          |

参考：[STM32 ADC没有输入电压时，采集结果不为0][1]

[1]: https://blog.csdn.net/u014448875/article/details/117298783